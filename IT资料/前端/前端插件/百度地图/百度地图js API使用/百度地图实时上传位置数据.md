上篇博文[你可能用到的百度地图效果（付源码）](http://www.cnblogs.com/xsyblogs/p/3936275.html)介绍了几个比较实用的百度地图特效，其中重点介绍了海量数据上传及响应的问题，前端展示可以通过LBS云麻点来展示，通过这个可以解决批量数据Marker响应特慢的性能问题。首先在百度云服务器上建完表之后，我们可以通过后台的管理平台直接把数据传上去，作为我们的初始数据。这部分数据有了之后，接下来要做的就是想办法手动同步数据，更智能一点就是实时同步数据，接下来就带你一步步实现这个过程。

​      这次在正文开始之前，我想先做一次吐槽君。最近压力有点儿大，先来发一下牢骚。三人行，则必有我师。无论你职位的高低，工作没有贵贱，当你是新手的时候，你应该要放低姿态，当你是老手的时候，更要放低姿态，因为成熟的麦子都是低着头的。。。上帝为你开了一扇门，就肯定会为你关一扇窗，无论什么时候，都不要觉得你比别人优越多少。当工作中你发现别人犯了错时，你没有义务去纠正别人，帮助别人改正，但是退一万步，你至少不应该冷嘲热讽吧。本是同根生，相煎何太急？程序员又何必为难程序员呢？你可能比别人多了两年的经验，可能比别人多写了些代码，可是你能保证各方面都比别人优秀吗？如果你是老手，多帮帮别人，你漫不经心的一句话可能让别人脱离了迷惘；如果你是新手，努力学习，不要永远做新手！最后，能在一起工作都是缘分，且行且珍惜！

​      首先，说说这次同步过程中发现的几个问题及解决方案。1、百度云麻点样式无法自定义，只能使用官方的一些坐标点的样式；2、虽然官方给出的数据是一天请求10万次，但是如果请求频繁的话，会返回错误的数据；3、百度云检索最多只能返回2000条数据，如果需要返回更多数据，可以通过云存储里的查询指定条件的数据列表接口来实现；4、云服务器数据会有缓存，有时候更新不及时；5、上传数据的csv格式里有一列是空的，不知道是干什么用的。      

​      接下来开始今天的正文，数据同步这块儿，这里经历了文章开头说到的两个过程，由手动同步升级成自动同步。刚开始做的是傻瓜似的，在页面上放了一个按钮，在按钮点击的时候向handler发送请求，然后去获取本地数据，然后更新到百度云服务器。下图是上传数据需要的接口：


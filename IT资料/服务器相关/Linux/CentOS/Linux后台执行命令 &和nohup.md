> 当我们在终端或控制台工作时，可能不希望由于运行一个作业而占住了屏幕，因为可能还有更重要的事情要做，比如阅读电子邮件。对于密集访问磁盘的进程，我们更希望它能够在每天的非负荷高峰时间段运行(例如凌晨)。为了使这些进程能够在后台运行，也就是说不在终端屏幕上运行，有几种选择方法可供使用。

## 使用&
当在前台运行某个作业时，终端被该作业占用；可以在命令后面加上&实现后台运行，例如：
```
sh test.sh &
```
适合在后台运行find、费时的排序及一些shell脚本。在后台运行作业时要当心：需要用户交互的命令不要放在后台执行（<font color='red'>例如需要你去确认是否安装，是否overwrite之类的</font>），否则机器会在哪里傻等。不过，作业在后台运行一样会将结果输出到屏幕上，干扰你的工作。如果放在后台运行的作业产生大量的输出，最好使用下面的方法把他重定向输出到某个文件中,具体的实例见下图，当成功提交进程后，会显示一个进程号，可以使用它来监控进程或者杀死进程（ps -ef|grep 查看进程；kill -9 杀死进程）：
```
command > out.file 2>&1 &
```
![后台执行命令并输出到指定的文件中](https://note.youdao.com/yws/public/resource/8a9dbf65541d86a9fec9860926f82243/xmlnote/8526C2419B4E4D45A495E12DC2BF6A3B/4873)


## 使用nohup
使用&命令后，作业被提交到后台运行，当前控制台没有被占用，但是一旦把当前控制台关掉（退出账户时），作业就会停止运行。nohup命令可以在你退出账号之后继续运行相应的进程。nohup就是不挂起的意思（no hang up），该命令的一般形式如下：
```
nohup command &
```
如果使用nohup命令提交作业，那么在缺省情况下该作业的所有输出都被重定向到一个名为nohup.out的文件中，除非另外制定了输出文件
```
nohup command > myout.file 2>&1 &
```

<font color='red'>使用了nohup之后，很多人就这样不管了，其实这样有可能在当前账户非正常退出或者结束的时候，命令还是自己结束了。所以在使用nohup命令后台执行命令之后，需要使用exit正常退出当前账户，这样才能保证命令一直在后台运行</font>

## 相关指令
- Ctrl+z  
  可以将一个正在执行的命令放到后台，并且处于<font color='red'>暂停状态</font>

- jobs  
  查看当前有多少在后台运行的命令，查看的结果是没有进程ID的，所以上面nohup打印进程ID的时候，一定要记下来，好用来结束

- 2>&1  
  2>&1 是将标准出错重定向到标准输出，这里的标准输出已经重定向到了out.file文件，即将标准出错也输出到out.file文件中。最后一个&， 是让该命令在后台执行

试想2>1代表什么，2与>结合代表错误重定向，而1则代表错误重定向到一个文件1，而不代表标准输出；换成2>&1，&与1结合就代表标准输出了，就变成错误重定向到标准输出